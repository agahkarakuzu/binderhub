

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Event Logging &#8212; BinderHub 0.1.0 documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="https://gitcdn.link/repo/jupyterhub/binder/master/doc/_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link href="_static/css/index.css" rel="stylesheet">
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <link rel="shortcut icon" href="_static/favicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="BinderHub API Documentation" href="api.html" />
    <link rel="prev" title="The BinderHub Architecture" href="overview.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">

<a class="navbar-brand" href="index.html">
  <img src="_static/logo.png" class="logo" alt="logo">
</a>

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div id="navbar-menu" class="collapse navbar-collapse">
  <ul id="navbar-main-elements" class="navbar-nav mr-auto">
    <li class="nav-item">
        <a class="nav-link" href="index.html">Home</a>
    </li>
    
    
    <li class="nav-item ">
        <a class="nav-link" href="zero-to-binderhub/index.html">Zero to BinderHub</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="customization/index.html">Customization</a>
    </li>
    
    <li class="nav-item active">
        <a class="nav-link" href="developer/index.html">Administrators and developers</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="community/index.html">Community</a>
    </li>
    
    
  </ul>
  <ul class="navbar-nav ml-auto">
    
    
  </ul>
</div>
    </nav>
    

    <div class="container-fluid">
      <div class="row">
          
          <div class="col-12 col-md-3 col-xl-2 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
        
          
              <li class="">
                  <a href="overview.html">The BinderHub Architecture</a>
              </li>
          
        
          
              <li class="active">
                  <a href="">Event Logging</a>
              </li>
          
        
          
              <li class="">
                  <a href="api.html">BinderHub API Documentation</a>
              </li>
          
        
          
              <li class="">
                  <a href="developer/repoproviders.html">Repository Providers</a>
              </li>
          
        
          
              <li class="">
                  <a href="reference/ref-index.html">Configuration and Source Code Reference</a>
              </li>
          
        
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              


<div class="tocsection onthispage"><i class="fas fa-list"></i> On this page</div>
<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#events-vs-metrics" class="nav-link">Events vs Metrics</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#what-events-to-emit" class="nav-link">What events to emit?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#binderhub-events" class="nav-link">BinderHub Events</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#launch-event" class="nav-link">Launch event</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>
              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
              
              <div>
                
  <div class="section" id="event-logging">
<span id="eventlogging"></span><h1>Event Logging<a class="headerlink" href="#event-logging" title="Permalink to this headline">¶</a></h1>
<p>Events are discrete &amp; structured items emitted by
BinderHub when specific events happen. For example,
the <code class="docutils literal notranslate"><span class="pre">binderhub.jupyter.org/launch</span></code> event is emitted
whenever a Launch succeeds.</p>
<p>These events may be sent to a <em>sink</em> via handlers
from the python <code class="docutils literal notranslate"><span class="pre">logging</span></code> module.</p>
<div class="section" id="events-vs-metrics">
<h2>Events vs Metrics<a class="headerlink" href="#events-vs-metrics" title="Permalink to this headline">¶</a></h2>
<p>BinderHub also exposes <a class="reference external" href="https://prometheus.io">prometheus</a>
metrics. These are pre-aggregated, and extremely limited in
scope. They can efficiently answer questions like ‘how many launches
happened in the last hour?’ but not questions like ‘how
many times was this repo launched in the last 6 months?’.
Events are discrete and can be aggregated in many ways
during analysis. Metrics are aggregated at source, and this
limits what can be done with them during analysis. Metrics
are mostly operational, while events are for analytics.</p>
</div>
<div class="section" id="what-events-to-emit">
<h2>What events to emit?<a class="headerlink" href="#what-events-to-emit" title="Permalink to this headline">¶</a></h2>
<p>Since events have a lot more information than metrics do,
we should be careful about what events we emit. In general,
we should pose an <strong>explicit question</strong> that events can answer.</p>
<p>For example, to answer the question <em>How many times has my
GitHub repo been launched in the last 6 months?</em>, we would need
to emit an event every time a launch succeeds. To answer the
question <em>how long did users spend on my repo?</em>, we would need
to emit an event every time a user notebook is killed, along
with the lifetime length of the notebook.</p>
<p><a class="reference external" href="https://www.mediawiki.org/wiki/Extension:EventLogging/Guide#Posing_a_question">Wikimedia’s EventLogging Guidelines</a>
contain a lot of useful info on how to approach adding more events.</p>
</div>
<div class="section" id="binderhub-events">
<h2>BinderHub Events<a class="headerlink" href="#binderhub-events" title="Permalink to this headline">¶</a></h2>
<div class="section" id="launch-event">
<h3>Launch event<a class="headerlink" href="#launch-event" title="Permalink to this headline">¶</a></h3>
<p>This event is emitted whenever a new repo is launched.</p>
<p>Schemas:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/jupyterhub/binderhub/blob/ba15091b0940174c1001aefd2c89b96daa8005cb/binderhub/event-schemas/launch.json">version 1</a></p></li>
<li><p><a class="reference external" href="https://github.com/jupyterhub/binderhub/blob/5cc0f496cac98d6c9b7d645e6fb236fd1e5277f4/binderhub/event-schemas/launch.json">version 2</a></p></li>
<li><p><a class="reference external" href="https://github.com/jupyterhub/binderhub/blob/master/binderhub/event-schemas/launch.json">version 3</a></p></li>
</ul>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="overview.html" title="previous page">The BinderHub Architecture</a>
    <a class='right-next' id="next-link" href="api.html" title="next page">BinderHub API Documentation</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="_static/js/index.js"></script>
    <footer class="footer">
  <div class="container">
    <p>
          &copy; Copyright 2017, The Jupyter Team.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>